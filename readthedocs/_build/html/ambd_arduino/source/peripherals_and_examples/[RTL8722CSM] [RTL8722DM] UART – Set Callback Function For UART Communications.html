

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications &mdash; amebaDocs 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="[RTL8722CSM] [RTL8722DM] Flash Memory - Store data in FlashEEProm" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Flash%20Memory%20-%20Store%20data%20in%20FlashEEProm.html" />
    <link rel="prev" title="[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20-%20Retrieve%20GPS%20Position.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Source SDKs:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Arduino SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Micropython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../ambd_mini/source/index.html">AmebaD-mini</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../ambd_mini/source/getting_started/RTL8722DM_mini_Arduino%20SDK_getting%20start_31Mar2021.html">Getting Started with RTL8722DM_mini</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ambd_mini/source/download/index.html">Download</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/index.html">Peripherals &amp; Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Basic%20Examples.html">Basic Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="Network%20Examples.html">Network Examples</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="Peripheral%20Examples.html">Peripheral Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20GPIO%20%E2%80%93%20Measure%20The%20Distance%20By%20Ultrasound%20Module.html">[RTL8722CSM] [RTL8722DM] GPIO – Measure The Distance By Ultrasound Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20GPIO%20-%20Measuring%20The%20Temperature%20And%20Humidity.html">[RTL8722CSM] [RTL8722DM] GPIO - Measuring The Temperature And Humidity</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20GPIO%20-%20Use%20GPIO%20Interrupt%20To%20Control%20LED.html">[RTL8722CSM] [RTL8722DM] GPIO - Use GPIO Interrupt To Control LED</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20PWM%20%E2%80%93%20Play%20Music.html">[RTL8722CSM] [RTL8722DM] PWM – Play Music</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20PWM%20%E2%80%93%20Using%20A%20Servo.html">[RTL8722CSM] [RTL8722DM] PWM – Using A Servo</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Communicate%20with%20Arduino%20UNO%20via%20I2C.html">[RTL8722CSM] [RTL8722DM] I2C - Communicate with Arduino UNO via I2C</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Use%20I2C%20to%20receive%20data%20from%20Arduino%20UNO.html">[RTL8722CSM] [RTL8722DM] I2C - Use I2C to receive data from Arduino UNO</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Display%20Data%20On%20LCD%20Screen.html">[RTL8722CSM] [RTL8722DM] I2C - Display Data On LCD Screen</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722DM%5D%20%5BRTL8722DM%5D%20UART%20-%20Communicate%20with%20the%20computer%20via%20UART.html">[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20-%20Retrieve%20GPS%20Position.html">[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Flash%20Memory%20-%20Store%20data%20in%20FlashEEProm.html">[RTL8722CSM] [RTL8722DM] Flash Memory - Store data in FlashEEProm</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Flash%20Memory%20-%20Use%20Flash%20Memory%20Larger%20Than%204K.html">[RTL8722CSM] [RTL8722DM] Flash Memory - Use Flash Memory Larger Than 4K</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20SPI%20%E2%80%93%20Print%20Image%20And%20Text%20On%20LCD%20Screen.html">[RTL8722CSM] [RTL8722DM] SPI – Print Image And Text On LCD Screen</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Timer%20-%20Using%20The%20Periodic%20GTimer.html">[RTL8722CSM] [RTL8722DM] Timer - Using The Periodic GTimer</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Timer%20-%20Using%20The%20Single-Use%20GTimer.html">[RTL8722CSM] [RTL8722DM] Timer - Using The Single-Use GTimer</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Deep%20Sleep%20Mode.html">[RTL8722CSM] [RTL8722DM] Power Save Deep Sleep Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Deep%20Sleep%20DHT%20Eink.html">[RTL8722CSM] [RTL8722DM] Power Save Deep Sleep DHT Eink</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Deep%20Sleep%20DHT%20LCD.html">[RTL8722CSM] [RTL8722DM] Power Save Deep Sleep DHT LCD</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Tickless%20Mode.html">[RTL8722CSM] [RTL8722DM] Power Save Tickless Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Use%20NTPClient%20Library%20To%20Obtain%20Local%20Time.html">[RTL8722CSM] [RTL8722DM] Use NTPClient Library To Obtain Local Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Transmit%20IR%20NEC%20Raw%20Data%20And%20Decode.html">[RTL8722CSM] [RTL8722DM] Transmit IR NEC Raw Data And Decode</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Display%20Images%20On%20E-Paper.html">[RTL8722CSM] [RTL8722DM] Display Images On E-Paper</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Display%20Text%20On%20E-Paper.html">[RTL8722CSM] [RTL8722DM] Display Text On E-Paper</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Display%20User-Generated%20QR%20Code%20on%20E-Paper.html">[RTL8722CSM] [RTL8722DM] Display User-Generated QR Code on E-Paper</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20A%20Simple%20RTC%20Example.html">[RTL8722CSM] [RTL8722DM] A Simple RTC Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Simple%20RTC%20Alarm.html">[RTL8722CSM] [RTL8722DM] Simple RTC Alarm</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Watchdog%20Timer%20Simple%20Example.html">[RTL8722CSM] [RTL8722DM] Watchdog Timer Simple Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="BasicInputOutput.html">[RTL8722CSM/RTL8722DM] Audio Codec – Basic Input Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="FFT.html">[RTL8722CSM/RTL8722DM] Audio Codec – FFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="InputFFT.html">[RTL8722CSM/RTL8722DM] Audio Codec – Input FFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="OutputSineWave.html">[RTL8722CSM/RTL8722DM] Audio Codec – Output Sine Wave</a></li>
<li class="toctree-l4"><a class="reference internal" href="File%20system%20in%20SD%20card.html">[RTL8722DM_mini] FatfsSDIO – File system in SD card</a></li>
<li class="toctree-l4"><a class="reference internal" href="HelloWorld.html">[RTL8722CSM/RTL8722DM] TensorFlow Lite - Hello World</a></li>
<li class="toctree-l4"><a class="reference internal" href="MagicWand.html">[RTL8722CSM/RTL8722DM] TensorFlow Lite - Magic Wand</a></li>
<li class="toctree-l4"><a class="reference internal" href="MicroSpeech.html">[RTL8722CSM/RTL8722DM] TensorFlow Lite - Micro Speech</a></li>
<li class="toctree-l4"><a class="reference internal" href="PersonDetection.html">[RTL8722CSM/RTL8722DM] TensorFlow Lite - Person Detection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Components%20used.html">Components used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../ambd_mini/source/board_hdk/index.html">Board HDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ambd_mini/source/api_documents/index.html">API Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ambd_mini/source/resources/index.html">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ambd_mini/source/support/index.html">Support</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Arduino SDK</a> &raquo;</li>
        
          <li><a href="index.html">Peripherals &amp; Examples</a> &raquo;</li>
        
          <li><a href="Peripheral%20Examples.html">Peripheral Examples</a> &raquo;</li>
        
      <li>[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/source/peripherals_and_examples/[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rtl8722csm-rtl8722dm-uart-set-callback-function-for-uart-communications">
<h1>[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications<a class="headerlink" href="#rtl8722csm-rtl8722dm-uart-set-callback-function-for-uart-communications" title="Permalink to this headline">¶</a></h1>
<p>Materials</p>
<ul class="simple">
<li><p>Ameba x 1</p></li>
<li><p>USB to TTL Adapter x 1</p></li>
</ul>
<p>Example</p>
<p>This example shows how to set a callback function for UART communication
to process the UART data.</p>
<p>A USB to TTL adapter is required for this example. Ensure that you have
the driver installed and connect it to the Ameba board as shown.</p>
<a class="reference internal image-reference" href="../../../_images/image148.png"><img alt="2" src="../../../_images/image148.png" style="width: 6.02778in; height: 3.45833in;" /></a>
<p>Open the example in “File” -&gt; “Examples” -&gt; “AmebaSoftwareSerial” -&gt;
“SoftwareSerial_Irq_Callback”</p>
<a class="reference internal image-reference" href="../../../_images/image247.png"><img alt="3" src="../../../_images/image247.png" style="width: 6.34722in; height: 3.46528in;" /></a>
<div class="line-block">
<div class="line">Upload the code and press the reset button on Ameba once the upload is
finished.</div>
<div class="line">Next, using a terminal program, such as TeraTerm or PuTTY, open a
serial port and configure it according to the settings. Make sure the
serial port number corresponds to the USB to TTL adapter.</div>
</div>
<ul class="simple">
<li><p>Speed: 38400</p></li>
<li><p>Data: 8 bit</p></li>
<li><p>Parity: none</p></li>
<li><p>Stop bits: 1 bit</p></li>
<li><p>Flow control: none</p></li>
</ul>
<a class="reference internal image-reference" href="../../../_images/image327.png"><img alt="3" src="../../../_images/image327.png" style="width: 6.34722in; height: 3.46528in;" /></a>
<p>Once the serial port is open, type in the terminal and press the enter
key, and you will see the corresponding output.</p>
<a class="reference internal image-reference" href="../../../_images/image425.png"><img alt="4" src="../../../_images/image425.png" style="width: 6.5in; height: 4.10903in;" /></a>
<p>Code Reference</p>
<p>mySerial.setAvailableCallback(mySerialCallback); is used to set the
function mySerialCallback as a callback function for software serial.
When a new character is received, the callback function checks if the
character corresponds to the enter key, and releases the semaphore if it
is true, which in turn allows the main loop to print out all the
previously received characters.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Flash%20Memory%20-%20Store%20data%20in%20FlashEEProm.html" class="btn btn-neutral float-right" title="[RTL8722CSM] [RTL8722DM] Flash Memory - Store data in FlashEEProm" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20-%20Retrieve%20GPS%20Position.html" class="btn btn-neutral float-left" title="[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Simon XI.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>