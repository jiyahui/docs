

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>[RTL8722CSM] [RTL8722DM] I2C - Use I2C to receive data from Arduino UNO &mdash; amebaDocs 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="[RTL8722CSM] [RTL8722DM] I2C - Display Data On LCD Screen" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Display%20Data%20On%20LCD%20Screen.html" />
    <link rel="prev" title="[RTL8722CSM] [RTL8722DM] I2C - Communicate with Arduino UNO via I2C" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Communicate%20with%20Arduino%20UNO%20via%20I2C.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Welcome to amebaDocs’s documentation!</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download/index.html">Download</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals &amp; Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Basic%20Examples.html">Basic Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="Network%20Examples.html">Network Examples</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="Peripheral%20Examples.html">Peripheral Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20GPIO%20%E2%80%93%20Measure%20The%20Distance%20By%20Ultrasound%20Module.html">[RTL8722CSM] [RTL8722DM] GPIO – Measure The Distance By Ultrasound Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20GPIO%20-%20Measuring%20The%20Temperature%20And%20Humidity.html">[RTL8722CSM] [RTL8722DM] GPIO - Measuring The Temperature And Humidity</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20GPIO%20-%20Use%20GPIO%20Interrupt%20To%20Control%20LED.html">[RTL8722CSM] [RTL8722DM] GPIO - Use GPIO Interrupt To Control LED</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20PWM%20%E2%80%93%20Play%20Music.html">[RTL8722CSM] [RTL8722DM] PWM – Play Music</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20PWM%20%E2%80%93%20Using%20A%20Servo.html">[RTL8722CSM] [RTL8722DM] PWM – Using A Servo</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Communicate%20with%20Arduino%20UNO%20via%20I2C.html">[RTL8722CSM] [RTL8722DM] I2C - Communicate with Arduino UNO via I2C</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">[RTL8722CSM] [RTL8722DM] I2C - Use I2C to receive data from Arduino UNO</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Display%20Data%20On%20LCD%20Screen.html">[RTL8722CSM] [RTL8722DM] I2C - Display Data On LCD Screen</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722DM%5D%20%5BRTL8722DM%5D%20UART%20-%20Communicate%20with%20the%20computer%20via%20UART.html">[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20-%20Retrieve%20GPS%20Position.html">[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20%E2%80%93%20Set%20Callback%20Function%20For%20UART%20Communications.html">[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Flash%20Memory%20-%20Store%20data%20in%20FlashEEProm.html">[RTL8722CSM] [RTL8722DM] Flash Memory - Store data in FlashEEProm</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Flash%20Memory%20-%20Use%20Flash%20Memory%20Larger%20Than%204K.html">[RTL8722CSM] [RTL8722DM] Flash Memory - Use Flash Memory Larger Than 4K</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20SPI%20%E2%80%93%20Print%20Image%20And%20Text%20On%20LCD%20Screen.html">[RTL8722CSM] [RTL8722DM] SPI – Print Image And Text On LCD Screen</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Timer%20-%20Using%20The%20Periodic%20GTimer.html">[RTL8722CSM] [RTL8722DM] Timer - Using The Periodic GTimer</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Timer%20-%20Using%20The%20Single-Use%20GTimer.html">[RTL8722CSM] [RTL8722DM] Timer - Using The Single-Use GTimer</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Deep%20Sleep%20Mode.html">[RTL8722CSM] [RTL8722DM] Power Save Deep Sleep Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Deep%20Sleep%20DHT%20Eink.html">[RTL8722CSM] [RTL8722DM] Power Save Deep Sleep DHT Eink</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Deep%20Sleep%20DHT%20LCD.html">[RTL8722CSM] [RTL8722DM] Power Save Deep Sleep DHT LCD</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Power%20Save%20Tickless%20Mode.html">[RTL8722CSM] [RTL8722DM] Power Save Tickless Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Use%20NTPClient%20Library%20To%20Obtain%20Local%20Time.html">[RTL8722CSM] [RTL8722DM] Use NTPClient Library To Obtain Local Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Transmit%20IR%20NEC%20Raw%20Data%20And%20Decode.html">[RTL8722CSM] [RTL8722DM] Transmit IR NEC Raw Data And Decode</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Display%20Images%20On%20E-Paper.html">[RTL8722CSM] [RTL8722DM] Display Images On E-Paper</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Display%20Text%20On%20E-Paper.html">[RTL8722CSM] [RTL8722DM] Display Text On E-Paper</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Display%20User-Generated%20QR%20Code%20on%20E-Paper.html">[RTL8722CSM] [RTL8722DM] Display User-Generated QR Code on E-Paper</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20A%20Simple%20RTC%20Example.html">[RTL8722CSM] [RTL8722DM] A Simple RTC Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Simple%20RTC%20Alarm.html">[RTL8722CSM] [RTL8722DM] Simple RTC Alarm</a></li>
<li class="toctree-l4"><a class="reference internal" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20Watchdog%20Timer%20Simple%20Example.html">[RTL8722CSM] [RTL8722DM] Watchdog Timer Simple Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Components%20used.html">Components used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../board_hdk/index.html">Board HDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_documents/index.html">API Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../support/index.html">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#search">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Welcome to amebaDocs’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html#search">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Welcome to ambd_sdk’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Welcome to amebaDocs’s documentation!</a> &raquo;</li>
        
          <li><a href="index.html">Peripherals &amp; Examples</a> &raquo;</li>
        
          <li><a href="Peripheral%20Examples.html">Peripheral Examples</a> &raquo;</li>
        
      <li>[RTL8722CSM] [RTL8722DM] I2C - Use I2C to receive data from Arduino UNO</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/source/peripherals_and_examples/[RTL8722CSM] [RTL8722DM] I2C - Use I2C to receive data from Arduino UNO.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rtl8722csm-rtl8722dm-i2c-use-i2c-to-receive-data-from-arduino-uno">
<h1>[RTL8722CSM] [RTL8722DM] I2C - Use I2C to receive data from Arduino UNO<a class="headerlink" href="#rtl8722csm-rtl8722dm-i2c-use-i2c-to-receive-data-from-arduino-uno" title="Permalink to this headline">¶</a></h1>
<p>Materials</p>
<ul class="simple">
<li><p>Ameba x 1</p></li>
<li><p>Arduino UNO x 1</p></li>
</ul>
<p>Example</p>
<p>In the previous example <a class="reference external" href="https://www.amebaiot.com/amebad-arduino-i2c-1">“I2C – Communicate with Arduino UNO via
I2C” </a>, Ameba, the I2C
master, transmits data to the Arduino UNO, the I2C slave. As to this
example, Ameba is the I2C master, and receives data from the Arduino
UNO, which is the I2C slave.</p>
<ul class="simple">
<li><dl class="simple">
<dt><a href="#id1"><span class="problematic" id="id2">**</span></a>Setting up Arduino Uno to be I2C Slave</dt><dd><p><a href="#id3"><span class="problematic" id="id4">**</span></a></p>
</dd>
</dl>
</li>
</ul>
<div class="line-block">
<div class="line">First, select Arduino in the Arduino IDE in “Tools” -&gt; “Board” -&gt;
“Arduino Uno”:</div>
<div class="line">Open “Examples” -&gt; “Wire” -&gt; “slave_sender”</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image127.png"><img alt="per-5-1" src="../../../_images/image127.png" style="width: 6.5in; height: 7.16806in;" /></a>
<p>Then click “Sketch” -&gt; “Upload” to compile and upload the example to
Arduino Uno.</p>
<ul class="simple">
<li><dl class="simple">
<dt><a href="#id5"><span class="problematic" id="id6">**</span></a>Setting up Ameba to be I2C Master</dt><dd><p><a href="#id7"><span class="problematic" id="id8">**</span></a></p>
</dd>
</dl>
</li>
</ul>
<div class="line-block">
<div class="line">Next, open another window of Arduino IDE, make sure to choose your
Ameba development board in the IDE: “Tools” -&gt; “Board”</div>
<div class="line">Open “File” -&gt; “Examples” -&gt; “AmebaWire” -&gt; “MasterReader”</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image225.png"><img alt="per-5-3" src="../../../_images/image225.png" style="width: 6.5in; height: 7.38333in;" /></a>
<p>Click “Sketch” -&gt; “Upload” to compile and upload the example to Ameba.</p>
<ul class="simple">
<li><p><strong>Wiring</strong></p></li>
</ul>
<div class="line-block">
<div class="line">The Arduino example uses A4 as the I2C SDA and A5 as the I2C SCL.</div>
<div class="line">Another important thing is that the GND pins of Arduino and Ameba
should be connected to each other.</div>
<div class="line">RTL8722 wiring diagram:</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image317.png"><img alt="per-5-5" src="../../../_images/image317.png" style="width: 6.5in; height: 4.68542in;" /></a>
<div class="line-block">
<div class="line">Next, we will observe the data receive by Ameba in the Serial Monitor.</div>
<div class="line">(Note: If you do not know which port the Ameba development board is
connected to, please find it in the Device Manager of Windows first.
Ameba is connected as “mbed Serial Port”. For example, if you find
mbed Serial Port (COM15) means Ameba is connected to port COM15.)</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image417.png"><img alt="per-5-6" src="../../../_images/image417.png" style="width: 4.52083in; height: 4.21528in;" /></a>
<div class="line-block">
<div class="line">We select the port in “Tools” -&gt; “Port” -&gt; “COM15” (the port connected
to Ameba)</div>
<div class="line">Open the Arduino IDE window of the Ameba, go to “Tools” -&gt; “Serial
Monitor” to display the messages printed by Ameba.</div>
<div class="line">Press the reset button on Arduino Uno, Arduino Uno now waits for
connection from I2C master.</div>
<div class="line">Then press the reset button on Ameba, Ameba will start to receive
messages from Arduino Uno. And you can see the “hello ” message
printed every half second in serial monitor.</div>
<div class="line">(NOTE: If the message does not show in the Serial Monitor of Ameba,
please close and open the serial monitor again.)</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image58.png"><img alt="per-5-8" src="../../../_images/image58.png" style="width: 5.38194in; height: 6.4375in;" /></a>
<p>Code Reference</p>
<div class="line-block">
<div class="line">You can find detailed information of this example in the documentation
of Arduino:</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Tutorial/MasterReader">https://www.arduino.cc/en/Tutorial/MasterReader</a></div>
</div>
<div class="line-block">
<div class="line">First use Wire.begin()/Wire.begin(address) to join the I2C bus as a
master or slave, in the Master case the address is not required.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WireBegin">https://www.arduino.cc/en/Reference/WireBegin</a></div>
</div>
<div class="line-block">
<div class="line">Next, the Master uses Wire.requestFrom() to specify from which Slave
to request data.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WireRequestFrom">https://www.arduino.cc/en/Reference/WireRequestFrom</a></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Display%20Data%20On%20LCD%20Screen.html" class="btn btn-neutral float-right" title="[RTL8722CSM] [RTL8722DM] I2C - Display Data On LCD Screen" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Communicate%20with%20Arduino%20UNO%20via%20I2C.html" class="btn btn-neutral float-left" title="[RTL8722CSM] [RTL8722DM] I2C - Communicate with Arduino UNO via I2C" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Simon XI.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>